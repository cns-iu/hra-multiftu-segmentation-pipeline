#!/bin/bash
docker build --pull --no-cache -f docker/Dockerfile.v2 --network=host -t multiftu .
docker run --rm --user=$(id -u):$(id -g) -v $PWD/data:/data -v $PWD/output:/output -v $PWD/weights:/opt/weights --gpus all -it multiftu python3 inference.py --data_directory /data/k2_competition_hubmap_data/kidney --output_directory /output/k2_competition_hubmap_data/kidney --tissue_type kidney --inference_mode fast
docker run --rm --user=$(id -u):$(id -g) -v $PWD/data:/data -v $PWD/output:/output -v $PWD/weights:/opt/weights --gpus all -it multiftu python3 inference.py --data_directory /data/k2_competition_hubmap_data/intestine --output_directory /output/k2_competition_hubmap_data/intestine --tissue_type largeintestine --inference_mode fast
docker run --rm --user=$(id -u):$(id -g) -v $PWD/data:/data -v $PWD/output:/output -v $PWD/weights:/opt/weights --gpus all -it multiftu python3 inference.py --data_directory /data/k2_competition_hubmap_data/spleen --output_directory /output/k2_competition_hubmap_data/spleen --tissue_type spleen --inference_mode fast
docker run --rm --user=$(id -u):$(id -g) -v $PWD/data:/data -v $PWD/output:/output -v $PWD/weights:/opt/weights --gpus all -it multiftu python3 inference.py --data_directory /data/k2_competition_hubmap_data/prostate --output_directory /output/k2_competition_hubmap_data/prostate --tissue_type prostate --inference_mode fast
docker run --rm --user=$(id -u):$(id -g) -v $PWD/data:/data -v $PWD/output:/output -v $PWD/weights:/opt/weights --gpus all -it multiftu python3 inference.py --data_directory /data/k2_competition_hubmap_data/lung --output_directory /output/k2_competition_hubmap_data/lung --tissue_type lung --inference_mode fast